import{S as z,i as F,s as H,e as u,x as M,k as $,t as C,c as d,a as w,y as R,m as N,d as y,h as S,b as e,g as G,z as K,J as s,N as I,L as T,r as Q,p as W,C as X,O as Z,w as x}from"../chunks/index-f7f4432a.js";import{N as tt}from"../chunks/nav-f0ccacfe.js";function et(p){let a,o,h,t,v,r,E,m,l,c,f,k,B,b,L,O,g,P,D,U,V;return o=new tt({}),{c(){a=u("body"),M(o.$$.fragment),h=$(),t=u("div"),v=u("div"),r=u("input"),E=$(),m=u("div"),l=u("input"),c=$(),f=u("button"),k=C("Login"),B=$(),b=u("h1"),L=C("Your email/password is incorrect. Please try again"),O=$(),g=u("button"),P=C("auth"),this.h()},l(n){a=d(n,"BODY",{class:!0});var i=w(a);R(o.$$.fragment,i),h=N(i),t=d(i,"DIV",{id:!0,class:!0});var _=w(t);v=d(_,"DIV",{class:!0});var Y=w(v);r=d(Y,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Y.forEach(y),E=N(_),m=d(_,"DIV",{class:!0});var j=w(m);l=d(j,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),j.forEach(y),c=N(_),f=d(_,"BUTTON",{id:!0,class:!0});var A=w(f);k=S(A,"Login"),A.forEach(y),B=N(_),b=d(_,"H1",{id:!0,class:!0});var J=w(b);L=S(J,"Your email/password is incorrect. Please try again"),J.forEach(y),_.forEach(y),O=N(i),g=d(i,"BUTTON",{class:!0});var q=w(g);P=S(q,"auth"),q.forEach(y),i.forEach(y),this.h()},h(){e(r,"type","email"),e(r,"id","email"),e(r,"placeholder","email"),e(r,"class","svelte-btr3hr"),e(v,"class","inputDiv svelte-btr3hr"),e(l,"type","password"),e(l,"id","password"),e(l,"placeholder","password"),e(l,"class","svelte-btr3hr"),e(m,"class","inputDiv svelte-btr3hr"),e(f,"id","loginButton"),e(f,"class","svelte-btr3hr"),e(b,"id","incorrect"),e(b,"class","svelte-btr3hr"),e(t,"id","loginForm"),e(t,"class","svelte-btr3hr"),e(g,"class","svelte-btr3hr"),e(a,"class","svelte-btr3hr")},m(n,i){G(n,a,i),K(o,a,null),s(a,h),s(a,t),s(t,v),s(v,r),I(r,p[0]),s(t,E),s(t,m),s(m,l),I(l,p[1]),s(t,c),s(t,f),s(f,k),s(t,B),s(t,b),s(b,L),s(a,O),s(a,g),s(g,P),D=!0,U||(V=[T(r,"input",p[4]),T(l,"input",p[5]),T(f,"click",p[2]),T(g,"click",p[3])],U=!0)},p(n,[i]){i&1&&r.value!==n[0]&&I(r,n[0]),i&2&&l.value!==n[1]&&I(l,n[1])},i(n){D||(Q(o.$$.fragment,n),D=!0)},o(n){W(o.$$.fragment,n),D=!1},d(n){n&&y(a),X(o),U=!1,Z(V)}}}function st(p,a,o){x(()=>{document.getElementById("login").addEventListener("click",function(c){c.preventDefault()})});let h="",t="";const v=()=>{},r=()=>{(async()=>{const c=await fetch("/api/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:h,password:t})});if(c.status==401){document.getElementById("incorrect").style.display="block";return}else c.status==200&&(window.location.href="/protected");v(c.body)})()},E=()=>{};function m(){h=this.value,o(0,h)}function l(){t=this.value,o(1,t)}return[h,t,r,E,m,l]}class rt extends z{constructor(a){super(),F(this,a,st,et,H,{})}}export{rt as default};
