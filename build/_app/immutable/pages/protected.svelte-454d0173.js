import{S as N,i as S,s as T,e as w,t as u,k as $,c as g,a as j,h as c,d as r,m as q,g as _,J as d,L as B,j as v,l as H,n as L,w as C}from"../chunks/index-f7f4432a.js";function E(s){let a,e,t=s[1].name+"",n,f,m,p,i,h,y,b;return{c(){a=w("h1"),e=u("Hey "),n=u(t),f=u(" you are currently logged in on email "),m=u(s[0]),p=$(),i=w("button"),h=u("Logout")},l(l){a=g(l,"H1",{});var o=j(a);e=c(o,"Hey "),n=c(o,t),f=c(o," you are currently logged in on email "),m=c(o,s[0]),o.forEach(r),p=q(l),i=g(l,"BUTTON",{});var k=j(i);h=c(k,"Logout"),k.forEach(r)},m(l,o){_(l,a,o),d(a,e),d(a,n),d(a,f),d(a,m),_(l,p,o),_(l,i,o),d(i,h),y||(b=B(i,"click",M),y=!0)},p(l,o){o&2&&t!==(t=l[1].name+"")&&v(n,t),o&1&&v(m,l[0])},d(l){l&&r(a),l&&r(p),l&&r(i),y=!1,b()}}}function J(s){let a,e=s[0]!=null&&E(s);return{c(){e&&e.c(),a=H()},l(t){e&&e.l(t),a=H()},m(t,n){e&&e.m(t,n),_(t,a,n)},p(t,[n]){t[0]!=null?e?e.p(t,n):(e=E(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:L,o:L,d(t){e&&e.d(t),t&&r(a)}}}const U=!1;async function z({session:s}){return s.authenticated==!1?{status:302,redirect:"http://localhost:5173/login"}:{props:s.email}}function M(){document.cookie="jwt=0; path=/;",window.location.reload()}function O(s,a,e){let t,n={};return C(async()=>{const f=await fetch("http://localhost:5173/user");e(1,n=await f.json()),e(0,t=n.email)}),[t,n]}class A extends N{constructor(a){super(),S(this,a,O,J,T,{})}}export{A as default,z as load,U as prerender};
